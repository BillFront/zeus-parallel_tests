dependencies:
  pre:
    - rvm install 2.2
    - rvm install 2.1
    - rvm install 2.0
    - rvm install 1.9

  cache_directories:
    - '~/.rvm/gems/'

  override:
    - rvm-exec 2.2 bash -c 'bundle check || bundle install'
    - rvm-exec 2.1 bash -c 'bundle check || bundle install'
    - rvm-exec 2.0 bash -c 'bundle check || bundle install'
    - rvm-exec 1.9 bash -c 'bundle check || bundle install'

test:
  override:
    - rvm-exec 2.2 bash -c 'bundle exec rake circle:spec'
    - rvm-exec 2.1 bash -c 'bundle exec rake circle:spec'
    - rvm-exec 2.0 bash -c 'bundle exec rake circle:spec'
    - rvm-exec 1.9 bash -c 'bundle exec rake circle:spec'
