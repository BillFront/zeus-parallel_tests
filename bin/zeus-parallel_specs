#!/usr/bin/env ruby

unless ARGV == ["init"]
  puts "Usage:"
  puts "  zeus-parallel_specs init\t\tInitializes custom plan and script/spec"
  exit 1
end

def copy(file, target_dir)
  templates_dir = File.expand_path("templates", __FILE__)
  souce_file = File.join(templates_dir, file)
  dest_file  = File.join(target_dir, file)
  puts "Creating #{dest_file}"
  if File.exists?(dest_file)
    print "File exists, overwrite? [y/n} "
    unless gets == "y"
      puts "skipped"
    end
  end
  File.copy(source_file, dest_file)
end

copy "custom_plan.rb", "."
copy "zeus.json", "."
copy "spec", "script"
